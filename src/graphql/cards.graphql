subscription CardsByColumn($column_id: uuid!) {
    cards(
        where: { column_id: { _eq: $column_id } }
        order_by: { position: asc }
    ) {
        id
        name
        description
        position
        column_id
    }
}

mutation CreateCard(
    $column_id: uuid!
    $name: String!
    $position: Int!
    $description: String
) {
    insert_cards_one(
        object: {
            column_id: $column_id
            name: $name
            position: $position
            description: $description
        }
    ) {
        id
        name
        description
        position
        column_id
    }
}

mutation UpdateCardInfo($id: uuid!, $name: String, $description: String) {
    update_cards_by_pk(
        pk_columns: { id: $id }
        _set: { name: $name, description: $description }
    ) {
        id
        name
        description
        position
        column_id
    }
}

mutation UpdateCardPosition($id: uuid!, $position: Int!) {
    update_cards_by_pk(pk_columns: { id: $id }, _set: { position: $position }) {
        id
        position
    }
}

mutation MoveCard($id: uuid!, $column_id: uuid!, $position: Int!) {
    update_cards_by_pk(
        pk_columns: { id: $id }
        _set: { column_id: $column_id, position: $position }
    ) {
        id
        column_id
        position
    }
}

mutation DeleteCard($id: uuid!) {
    delete_cards_by_pk(id: $id) {
        id
        column_id
    }
}
